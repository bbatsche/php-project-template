# PHP Project Template

This repository is to provide a place for all the configuration & support files I use in my PHP libraries. Across all my projects, there are certain files that are more or less static, or which have a common starting point, or which get updated only periodically and whose changes I would like reflected across all projects. This repository is where I will store and track them centrally so they can then be used to create new projects, or when updating existing ones.

## Creating a New Project

There are a few things to do when creating a new PHP project from this repository.

1. Download the contents of this repository locally
   - I do not recommend forking or cloning this repo to create a project. The files here are only meant as a starting point for a library and trying to use this as an upstream for a project is likely to lead to merge conflicts and frustration.
2. You will need to rename and update several of the files included:
   - `composer.json`
     - Replace `<package>` with Composer package name
     - Replace `<Namespace>` with PHP namespace
     - Fill in `description` and `keywords`
   - `README.md`
     - Rename `README-init.md` to `README.md`
     - Fill in `<Project Name>`
     - Replace `<package>` with Composer package name
     - Replace `<repo>` with GitHub repository name
     - You should fill in the rest of the `README.md` with any documentation or instructions the project needs.
   - `CONTRIBUTING.md`
     - Fill in `<Project Name>`
     - Replace `<package>` with Composer package name
     - Replace `<repo>` with GitHub repository name
   - `CHANGELOG.md`
     - Replace the `<repo>` with GitHub repository name
   - `LICENSE`
     - Replace `<year>` with the current year
   - `phpunit.xml.dist`
     - Fill in `<testsuite name="">`
   - `.gitattributes-init`
     - Rename to `.gitattributes`
   - `.github/ISSUE_TEMPLATE/bug_report.yml`
     - Fill in `<Project Name>`
   - `.github/ISSUE_TEMPLATE/feature_request.yml`
     - Fill in `<Project Name>`
   - `.github/ISSUE_TEMPLATE/PULL_REQUEST_TEMPLATE.md`
     - Fill in `<Project Name>`
   - `src/.gitkeep`
     - Delete this file
   - `test/.gitkeep`
     - Delete this file

## Updating an Existing Project

Whether you're pulling files from this repository or not, the process of cutting a new release follows several steps that are documented below.

### Patch Release

1. Make sure all changes have been committed to `main`/`develop` or the correct minor version branch.
2. Make sure all fixes are documented in the `Unreleased` section of [`CHANGELOG.md`](CHANGELOG.md).
3. Look for new minor versions of dev dependencies and update [`composer.json`](composer.json).
4. Create a new heading for release in [`CHANGELOG.md`](CHANGELOG.md) and move relevant fixes to it
   - Update the base version in the `Unreleased` section if this release is going to be the latest version.
5. Draft the release on GitHub making sure to target the correct branch. The autogenerated release notes are fine.

### Minor Release

Follow the same steps as for a patch release but with the following additions:

1. Check for new major versions of dependencies that can be safely added (**do not remove existing versions, only add additional versions if they are still compatible with your library**).
2. Check for any existing features that should be marked as deprecated.
3. Make sure all new features are documented appropriately.
4. When drafting the release consider giving more details beyond the autogenerated release notes.
   - Also consider highlighting any important new features in the release title after the version number
5. Update the branch alias(es) in [`composer.json`](composer.json).
6. Create a new minor version branch off of the last tag of the previous minor version and make sure it's pushed to GitHub.

### Major Release

Follow the same steps as for patch and minor releases but with the following additions:

1. Make sure all deprecated items are removed.
2. Consider dropping legacy versions of PHP.
3. Consider updating and/or dropping previous versions of all dependencies where appropriate.
4. Review all documentation to ensure it is correct and up to date.
5. The release title and description should include human readable highlights & details beyond just the autogenerated notes.
